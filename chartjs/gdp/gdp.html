<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Chart with Chart.js</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body class="container d-flex align-items-center" style="min-height: 100vh;">
    <div class="row w-100">
        <div class="col d-flex justify-content-center">
            <canvas id="graph_01"></canvas>
        </div>
    </div>

    <!-- Chart.js Script -->
    <script>
        // Raw data
        const rawData = [
        {
          "2010": 15048964.44,
          "2011": 15599728.12,
          "2012": 16253972.23,
          "2013": 16843190.99,
          "2014": 17550680.17,
          "2015": 18206020.74,
          "2016": 18695110.84,
          "2017": 19477336.55,
          "2018": 20533057.31,
          "2019": 21380976.12,
          "2020": 21060473.61,
          "2021": 23315080.56,
          "2022": 25439700,
          "国名": "USA",
          "RGBコード": "250, 191, 28"
        },
        {
          "2010": 6087191.747,
          "2011": 7551545.704,
          "2012": 8532185.382,
          "2013": 9570471.112,
          "2014": 10475624.94,
          "2015": 11061572.62,
          "2016": 11233313.73,
          "2017": 12310491.33,
          "2018": 13894907.86,
          "2019": 14279968.51,
          "2020": 14687744.16,
          "2021": 17820459.51,
          "2022": 17963171.48,
          "国名": "China",
          "RGBコード": "187, 100, 29"
        },
        {
          "2010": 5759071.769,
          "2011": 6233147.172,
          "2012": 6272362.996,
          "2013": 5212328.181,
          "2014": 4896994.405,
          "2015": 4444930.652,
          "2016": 5003677.628,
          "2017": 4930837.369,
          "2018": 5040880.939,
          "2019": 5117993.853,
          "2020": 5055587.094,
          "2021": 5034620.785,
          "2022": 4256410.761,
          "国名": "Japan",
          "RGBコード": "35, 127, 196"
        },
        {
          "2010": 2485482.596,
          "2011": 2663805.835,
          "2012": 2707089.727,
          "2013": 2784853.503,
          "2014": 3064708.248,
          "2015": 2927911.141,
          "2016": 2689106.567,
          "2017": 2680148.052,
          "2018": 2871340.348,
          "2019": 2851407.165,
          "2020": 2697806.592,
          "2021": 3141506.157,
          "2022": 3089072.722,
          "国名": "UK",
          "RGBコード": "219, 83, 52"
        },
        {
          "2010": 239807.9806,
          "2011": 279356.4991,
          "2012": 295092.8881,
          "2013": 307576.3606,
          "2014": 314863.5808,
          "2015": 307998.5453,
          "2016": 319030.0576,
          "2017": 343272.8787,
          "2018": 376869.4925,
          "2019": 376837.5804,
          "2020": 348392.0907,
          "2021": 423797.1005,
          "2022": 466788.4268,
          "国名": "Singapore",
          "RGBコード": "145, 112, 175"
        }
      ];

        // Process data for Chart.js
        const years = Object.keys(rawData[0]).filter(key => key !== "国名" && key !== "RGBコード");
        const datasets = rawData.map(country => ({
            label: country["国名"],
            data: years.map(year => country[year]),
            fill: false,
            borderColor: `rgb(${country["RGBコード"] || '0, 0, 0'})`,
            tension: 0.1
        }));

        const config = {
            type: 'line',
            data: {
                labels: years,
                datasets: datasets
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            font: {
                                size: 18,
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: 'GDPの推移 (million USD)',
                        font: {
                            size: 24
                        }
                    }
                }
            }
        };

        // Render the chart
        new Chart(document.getElementById('graph_01'), config);
    </script>
</body>
</html>
